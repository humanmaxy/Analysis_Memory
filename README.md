# 图像文件分析工具

这是一个用Python开发的图像文件分析工具，具有图形用户界面，可以帮助您分析图像文件的命名规则、属性和色彩分布。

## 功能特性

1. **文件命名规则检测**
   - 自动识别样本文件的命名模式（如：条码_时间戳、前缀+数字等）
   - 检测目标文件夹中文件名格式是否与样本一致
   - 支持智能模式匹配

2. **图像属性检测**
   - 检测图像分辨率（宽度×高度）
   - 检测图像通道数（灰度图1通道，彩色图3通道等）
   - 与样本文件进行对比

3. **色彩分布分析**（可选功能）
   - 计算图像的RGB通道直方图
   - 与样本图像进行相似性对比
   - 生成可视化分布对比图

## 安装说明

### 系统要求
- Python 3.7+
- tkinter（通常随Python安装）

### 安装依赖
```bash
pip install -r requirements.txt
```

### 依赖包说明
- `opencv-python`: 图像处理库
- `Pillow`: Python图像库
- `numpy`: 数值计算库
- `matplotlib`: 绘图库

## 使用方法

### 方法1：使用启动器（推荐）
```bash
python run_analyzer.py
```

### 方法2：直接运行
```bash
python image_analyzer.py
```

## 使用步骤

1. **选择样本图像文件**
   - 点击"浏览"按钮选择一张作为标准的图像文件
   - 程序会自动分析其命名模式和属性

2. **选择目标文件夹**
   - 选择包含待检测图像文件的文件夹
   - 程序会自动扫描所有支持的图像格式

3. **设置检测选项**
   - 勾选"检测灰度和色彩分布差异"启用分布分析（可选）

4. **开始分析**
   - 点击"开始分析"按钮
   - 等待分析完成

5. **查看结果**
   - **分析概要**：显示整体统计信息和问题文件列表
   - **详细结果**：表格形式显示每个文件的检测结果
   - **分布对比图**：色彩分布的可视化对比（如果启用）

## 支持的图像格式

- JPEG (.jpg, .jpeg)
- PNG (.png)
- BMP (.bmp)
- TIFF (.tiff, .tif)

## 命名模式识别

程序能自动识别以下常见命名模式：
- `条码_时间戳`: 如 ABC123_20231201120000
- `前缀+数字`: 如 IMG001, Photo123
- `日期_序号`: 如 2023-12-01_001
- `数字_前缀`: 如 001_Sample
- `多段下划线分隔`: 如 Part_A_001
- **智能模式**: 自动分析文件名结构生成匹配模式

## 结果说明

### 状态标识
- ✓ 表示匹配/正常
- ✗ 表示不匹配/异常

### 分布相似性
- 数值范围：0.0 - 1.0
- 阈值：0.8（低于此值会标记为差异较大）
- 1.0 表示完全相同，0.0 表示完全不同

## 注意事项

1. 大图像文件可能需要较长处理时间
2. 色彩分布分析会增加处理时间，建议在需要时才启用
3. 程序会自动处理各种异常情况，如文件损坏、格式不支持等
4. 结果仅供参考，具体使用时请结合实际需求判断

## 故障排除

### 常见问题
1. **程序无法启动**
   - 检查Python版本是否3.7+
   - 确认所有依赖包已正确安装

2. **无法读取某些图像文件**
   - 检查文件是否损坏
   - 确认文件格式是否支持

3. **分析速度较慢**
   - 关闭色彩分布分析选项
   - 减少目标文件夹中的文件数量

如有其他问题，请检查错误信息或联系开发者。